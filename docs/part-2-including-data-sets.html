<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 9 PART 2: Including data sets | rstudio4edu</title>
  <meta name="description" content="A work-in-progress" />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 9 PART 2: Including data sets | rstudio4edu" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/books.jpg" />
  <meta property="og:description" content="A work-in-progress" />
  <meta name="github-repo" content="Section 9 PART 2: Including data sets | rstudio4edu/rstudio4edu-bookb" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 9 PART 2: Including data sets | rstudio4edu" />
  
  <meta name="twitter:description" content="A work-in-progress" />
  <meta name="twitter:image" content="images/books.jpg" />

<meta name="author" content="Alison Hill" />
<meta name="author" content="Desirée De Leon" />


<meta name="date" content="2019-06-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="part-1-creating-bare-bones-package-structure.html">
<link rel="next" href="part-3-including-worksheets-or-report-templates-with-r-markdown.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.7/datatables.js"></script>
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<head>
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=10.0,initial-scale=1.0">
</head>
        
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,200i,300,300i,400,400i,600,600i,700,700i,900,900i" rel="stylesheet">
<link href="style.css" rel="stylesheet">

<div class="navbar-extension"> </div>
<div class="image-descript"> 
  <img class="big_image" src="images/books.jpg">
</div>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">rstudio4edu</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li><a href="index.html#why-rstudio4edu">Why <code>rstudio4edu</code>?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-are-you"><i class="fa fa-check"></i>Who are you?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-are-we"><i class="fa fa-check"></i>Who are we?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contributing"><i class="fa fa-check"></i>Contributing</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="teaching-and-learning-with-jupyter-book-review.html"><a href="teaching-and-learning-with-jupyter-book-review.html"><i class="fa fa-check"></i><b>2</b> Teaching and Learning with Jupyter Book Review</a></li>
<li class="chapter" data-level="3" data-path="general-bookdown-questions.html"><a href="general-bookdown-questions.html"><i class="fa fa-check"></i><b>3</b> General Bookdown Questions</a></li>
<li class="chapter" data-level="4" data-path="outline-of-content-deliverables.html"><a href="outline-of-content-deliverables.html"><i class="fa fa-check"></i><b>4</b> Outline of Content &amp; Deliverables</a><ul>
<li class="chapter" data-level="4.1" data-path="outline-of-content-deliverables.html"><a href="outline-of-content-deliverables.html#works-in-progress"><i class="fa fa-check"></i><b>4.1</b> Works in Progress</a></li>
<li class="chapter" data-level="4.2" data-path="outline-of-content-deliverables.html"><a href="outline-of-content-deliverables.html#tutorial-descriptions"><i class="fa fa-check"></i><b>4.2</b> Tutorial Descriptions</a><ul>
<li class="chapter" data-level="4.2.1" data-path="outline-of-content-deliverables.html"><a href="outline-of-content-deliverables.html#package"><i class="fa fa-check"></i><b>4.2.1</b> Package</a></li>
<li class="chapter" data-level="4.2.2" data-path="outline-of-content-deliverables.html"><a href="outline-of-content-deliverables.html#r-markdown-basic-fundamentals"><i class="fa fa-check"></i><b>4.2.2</b> R Markdown Basic Fundamentals</a></li>
<li class="chapter" data-level="4.2.3" data-path="outline-of-content-deliverables.html"><a href="outline-of-content-deliverables.html#custom-r-markdown-site"><i class="fa fa-check"></i><b>4.2.3</b> Custom R Markdown Site</a></li>
<li class="chapter" data-level="4.2.4" data-path="outline-of-content-deliverables.html"><a href="outline-of-content-deliverables.html#add-on-how-to-build-a-fancy-r-markdown-site"><i class="fa fa-check"></i><b>4.2.4</b> Add-on: How to Build a Fancy R Markdown Site</a></li>
<li class="chapter" data-level="4.2.5" data-path="outline-of-content-deliverables.html"><a href="outline-of-content-deliverables.html#section"><i class="fa fa-check"></i><b>4.2.5</b> </a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="package-tutorial.html"><a href="package-tutorial.html"><i class="fa fa-check"></i><b>5</b> Package Tutorial</a></li>
<li class="chapter" data-level="6" data-path="is-this-tutorial-for-you.html"><a href="is-this-tutorial-for-you.html"><i class="fa fa-check"></i><b>6</b> Is this tutorial for you?</a></li>
<li class="chapter" data-level="7" data-path="why-make-a-package.html"><a href="why-make-a-package.html"><i class="fa fa-check"></i><b>7</b> Why make a package?</a></li>
<li class="chapter" data-level="8" data-path="part-1-creating-bare-bones-package-structure.html"><a href="part-1-creating-bare-bones-package-structure.html"><i class="fa fa-check"></i><b>8</b> PART 1: Creating bare bones package structure</a><ul>
<li class="chapter" data-level="8.0.1" data-path="part-1-creating-bare-bones-package-structure.html"><a href="part-1-creating-bare-bones-package-structure.html#step-1-make-a-github-repo-for-the-package"><i class="fa fa-check"></i><b>8.0.1</b> Step 1: Make a GitHub repo for the package</a></li>
<li class="chapter" data-level="8.0.2" data-path="part-1-creating-bare-bones-package-structure.html"><a href="part-1-creating-bare-bones-package-structure.html#step-2-create-the-package-in-rstudio"><i class="fa fa-check"></i><b>8.0.2</b> Step 2: Create the package in RStudio</a></li>
<li class="chapter" data-level="8.0.3" data-path="part-1-creating-bare-bones-package-structure.html"><a href="part-1-creating-bare-bones-package-structure.html#step-3-optionally-edit-description-file"><i class="fa fa-check"></i><b>8.0.3</b> Step 3: (Optionally) Edit DESCRIPTION file</a></li>
<li class="chapter" data-level="8.0.4" data-path="part-1-creating-bare-bones-package-structure.html"><a href="part-1-creating-bare-bones-package-structure.html#step-4-build"><i class="fa fa-check"></i><b>8.0.4</b> Step 4: Build!</a></li>
<li class="chapter" data-level="8.0.5" data-path="part-1-creating-bare-bones-package-structure.html"><a href="part-1-creating-bare-bones-package-structure.html#step-5-deliver"><i class="fa fa-check"></i><b>8.0.5</b> Step 5: Deliver</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="part-2-including-data-sets.html"><a href="part-2-including-data-sets.html"><i class="fa fa-check"></i><b>9</b> PART 2: Including data sets</a><ul>
<li class="chapter" data-level="9.1" data-path="part-2-including-data-sets.html"><a href="part-2-including-data-sets.html#why-do-this"><i class="fa fa-check"></i><b>9.1</b> Why do this?</a><ul>
<li class="chapter" data-level="9.1.1" data-path="part-2-including-data-sets.html"><a href="part-2-including-data-sets.html#step-1-add-raw-data-file"><i class="fa fa-check"></i><b>9.1.1</b> Step 1: Add raw data file</a></li>
<li class="chapter" data-level="9.1.2" data-path="part-2-including-data-sets.html"><a href="part-2-including-data-sets.html#step-2-save-clean-data-to-data"><i class="fa fa-check"></i><b>9.1.2</b> Step 2: Save clean data to <code>data/</code></a></li>
<li class="chapter" data-level="9.1.3" data-path="part-2-including-data-sets.html"><a href="part-2-including-data-sets.html#step-3-document-the-data-set"><i class="fa fa-check"></i><b>9.1.3</b> Step 3: Document the data set</a></li>
<li class="chapter" data-level="9.1.4" data-path="part-2-including-data-sets.html"><a href="part-2-including-data-sets.html#step-4-build-and-install"><i class="fa fa-check"></i><b>9.1.4</b> Step 4: Build and install</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="part-3-including-worksheets-or-report-templates-with-r-markdown.html"><a href="part-3-including-worksheets-or-report-templates-with-r-markdown.html"><i class="fa fa-check"></i><b>10</b> PART 3: Including “worksheets” or report templates with R Markdown</a><ul>
<li class="chapter" data-level="10.1" data-path="part-3-including-worksheets-or-report-templates-with-r-markdown.html"><a href="part-3-including-worksheets-or-report-templates-with-r-markdown.html#why-do-this-1"><i class="fa fa-check"></i><b>10.1</b> Why do this?</a><ul>
<li class="chapter" data-level="10.1.1" data-path="part-3-including-worksheets-or-report-templates-with-r-markdown.html"><a href="part-3-including-worksheets-or-report-templates-with-r-markdown.html#step-1-create-files-and-folders"><i class="fa fa-check"></i><b>10.1.1</b> Step 1: Create files and folders</a></li>
<li class="chapter" data-level="10.1.2" data-path="part-3-including-worksheets-or-report-templates-with-r-markdown.html"><a href="part-3-including-worksheets-or-report-templates-with-r-markdown.html#step-2-create-your-template"><i class="fa fa-check"></i><b>10.1.2</b> Step 2: Create your template</a></li>
<li class="chapter" data-level="10.1.3" data-path="part-3-including-worksheets-or-report-templates-with-r-markdown.html"><a href="part-3-including-worksheets-or-report-templates-with-r-markdown.html#step-3-confirm-that-your-template-is-accessible"><i class="fa fa-check"></i><b>10.1.3</b> Step 3: Confirm that your template is accessible</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="part-4-including-a-learnr-tutorial.html"><a href="part-4-including-a-learnr-tutorial.html"><i class="fa fa-check"></i><b>11</b> PART 4: Including a <span>LearnR</span> tutorial</a><ul>
<li class="chapter" data-level="11.1" data-path="part-4-including-a-learnr-tutorial.html"><a href="part-4-including-a-learnr-tutorial.html#why-do-this-2"><i class="fa fa-check"></i><b>11.1</b> Why do this?</a><ul>
<li class="chapter" data-level="11.1.1" data-path="part-4-including-a-learnr-tutorial.html"><a href="part-4-including-a-learnr-tutorial.html#step-1-create-files-and-directories"><i class="fa fa-check"></i><b>11.1.1</b> Step 1: Create files and directories</a></li>
<li class="chapter" data-level="11.1.2" data-path="part-4-including-a-learnr-tutorial.html"><a href="part-4-including-a-learnr-tutorial.html#step-2-customize-your-tutorial"><i class="fa fa-check"></i><b>11.1.2</b> Step 2: Customize your tutorial</a></li>
<li class="chapter" data-level="11.1.3" data-path="part-4-including-a-learnr-tutorial.html"><a href="part-4-including-a-learnr-tutorial.html#step-3-add-additional-subdirectory"><i class="fa fa-check"></i><b>11.1.3</b> Step 3: Add additional subdirectory</a></li>
<li class="chapter" data-level="11.1.4" data-path="part-4-including-a-learnr-tutorial.html"><a href="part-4-including-a-learnr-tutorial.html#step-4-run-your-tutorial"><i class="fa fa-check"></i><b>11.1.4</b> Step 4: Run your tutorial</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="part-5-final-steps.html"><a href="part-5-final-steps.html"><i class="fa fa-check"></i><b>12</b> PART 5: FINAL STEPS:</a><ul>
<li class="chapter" data-level="12.0.1" data-path="part-5-final-steps.html"><a href="part-5-final-steps.html#optionally-document-the-package-as-a-whole"><i class="fa fa-check"></i><b>12.0.1</b> (Optionally) Document the package as a whole</a></li>
<li class="chapter" data-level="12.0.2" data-path="part-5-final-steps.html"><a href="part-5-final-steps.html#create-a-readme.rmd-file"><i class="fa fa-check"></i><b>12.0.2</b> Create a README.Rmd file</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="troubleshooting.html"><a href="troubleshooting.html"><i class="fa fa-check"></i><b>13</b> Troubleshooting</a></li>
<li class="chapter" data-level="14" data-path="miscellaneous-nice-to-know.html"><a href="miscellaneous-nice-to-know.html"><i class="fa fa-check"></i><b>14</b> Miscellaneous / Nice to Know</a></li>
<li class="chapter" data-level="15" data-path="other-community-resources-on-package-making.html"><a href="other-community-resources-on-package-making.html"><i class="fa fa-check"></i><b>15</b> Other community resources on package-making:</a></li>
<li class="chapter" data-level="16" data-path="r-markdown-custom-site-tutorial.html"><a href="r-markdown-custom-site-tutorial.html"><i class="fa fa-check"></i><b>16</b> R Markdown Custom Site Tutorial</a></li>
<li class="chapter" data-level="17" data-path="backlog.html"><a href="backlog.html"><i class="fa fa-check"></i><b>17</b> Backlog</a></li>
<li class="chapter" data-level="18" data-path="timeline.html"><a href="timeline.html"><i class="fa fa-check"></i><b>18</b> Timeline</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio4edu/rstudio4edu-book" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">rstudio4edu</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="part-2-including-data-sets" class="section level1">
<h1><span class="header-section-number">Section 9</span> PART 2: Including data sets</h1>
<p>Assuming you have followed the previous steps for building the basic structure of a package, we now demonstrate how to package up some data for your students.</p>
<p><br></p>
<div id="why-do-this" class="section level2">
<h2><span class="header-section-number">9.1</span> Why do this?</h2>
<p>What if you’d like your students to work with a specific data set? Should you email them an excel or .csv file or upload it onto an oustide learning platform? No! You can include data sets in your package, ready to be summoned with the call of an object name. This saves precious instruction time that might otherwise be wasted and also helps students get to the fun stuff (analysis!) faster.</p>
<p><br></p>
<p><br></p>
<div id="step-1-add-raw-data-file" class="section level3">
<h3><span class="header-section-number">9.1.1</span> Step 1: Add raw data file</h3>
<ul>
<li>Call <code>usethis::use_data_raw</code> to create a folder called <code>data-raw</code>. We will use this folder as a general storage space for any raw data files, data pre-processing scripts, etc. that we don’t want to be built into our final package.</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">use_data_raw</span>()</code></pre>
<p>This new folder houses a <code>DATASET.R</code> script.</p>
<center>
<img src="images/pkg/datasetr.png" width="500" />
</center>
<p><br></p>
<ul>
<li>Add your raw data file to the <code>data-raw</code> folder. I am adding a <code>.csv</code> file called <code>aggression_behavior.csv</code>.</li>
</ul>
<center>
<img src="images/pkg/data-raw.png" width="500" />
</center>
<p><br></p>
<div class="alert alert-note">
<blockquote>
<p><strong>Note</strong>: It’s always a good idea to start with the most unprocessed, messy version of the data in the <code>data-raw</code> folder along with scripts to clean it up, so that your workflow is reproducible.</p>
</blockquote>
</div>
<p><br></p>
</div>
<div id="step-2-save-clean-data-to-data" class="section level3">
<h3><span class="header-section-number">9.1.2</span> Step 2: Save clean data to <code>data/</code></h3>
<p>Edit the <code>DATASET.R</code> script:</p>
<ul>
<li>Read in the <code>.csv</code> file containing our raw data.</li>
<li>Include any code necessary for processing or cleaning to ready the data set as you’d like it to be presented in the package.</li>
<li>Run <code>usethis::use_data()</code> which will export an <code>.rda</code>-formatted data file to a new folder, <code>data</code>. Any data in this folder will be accessible to the user.</li>
</ul>
<p>[SHOULD WE MENTION ANYTHING ABOUT HERE::HERE?]</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">## code to prepare `DATASET` dataset goes here</span>

<span class="co"># Read in your .csv file</span>
aggression_behavior &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(here<span class="op">::</span><span class="kw">here</span>(<span class="st">&quot;data-raw&quot;</span>, <span class="st">&quot;aggression_behavior.csv&quot;</span>))

<span class="co"># Include any processing steps here as well</span>

<span class="co"># Export to `data/` as .rda file</span>
usethis<span class="op">::</span><span class="kw">use_data</span>(aggression_behavior, <span class="dt">overwrite =</span> <span class="ot">TRUE</span>) <span class="co"># add overwrite option</span></code></pre>
<p><br></p>
<center>
<img src="images/pkg/rdafile.png" width="500" />
</center>
<p><br></p>
<div class="alert alert-note">
<blockquote>
<p><strong>FYI</strong>: The reason .rda (also called .RData) files are use in packaged data sets is because this data file format is much faster to read in than .csv files.</p>
</blockquote>
</div>
<p><br></p>
<p>Your data is now callable! Check that you can access your data.</p>
<ul>
<li>Click <code>Build</code> &gt; <code>Load All</code></li>
<li>Print your data set object:</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">aggression_behavior

<span class="co"># A tibble: 214 x 11</span>
   focal compound birthyr obyear  rank <span class="st">`</span><span class="dt">infant?</span><span class="st">`</span> attack_all chase_all threatcontact_a…
   <span class="op">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">      </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st">  </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">          </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st">     </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st">            </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span>
<span class="st"> </span><span class="dv">1</span> bs9   a1          <span class="dv">2003</span>   <span class="dv">2008</span>     <span class="dv">3</span> N                  <span class="dv">0</span>         <span class="dv">0</span>            <span class="dv">0</span>    
 <span class="dv">2</span> gk3   a1          <span class="dv">1991</span>   <span class="dv">2007</span>     <span class="dv">1</span> Y                  <span class="dv">0</span>         <span class="dv">0</span>            <span class="dv">0</span>    
 <span class="dv">3</span> se8   a1          <span class="dv">2001</span>   <span class="dv">2008</span>     <span class="dv">1</span> N                  <span class="dv">0</span>         <span class="dv">0</span>            <span class="dv">0</span>    
 <span class="dv">4</span> qq8   a1          <span class="dv">2001</span>   <span class="dv">2008</span>     <span class="dv">3</span> N                  <span class="dv">0</span>         <span class="dv">0</span>            <span class="fl">2.23</span> 
 <span class="dv">5</span> vd8   a1          <span class="dv">2001</span>   <span class="dv">2008</span>     <span class="dv">3</span> Y                  <span class="dv">0</span>         <span class="dv">0</span>            <span class="fl">0.998</span>
 <span class="dv">6</span> qv5   a1          <span class="dv">1996</span>   <span class="dv">2008</span>     <span class="dv">3</span> Y                  <span class="dv">0</span>         <span class="dv">0</span>            <span class="dv">0</span>    
 <span class="dv">7</span> sr8   a1          <span class="dv">2001</span>   <span class="dv">2008</span>     <span class="dv">2</span> N                  <span class="dv">0</span>         <span class="dv">0</span>            <span class="dv">0</span>    
 <span class="dv">8</span> pk8   a1          <span class="dv">2001</span>   <span class="dv">2008</span>     <span class="dv">2</span> Y                  <span class="dv">0</span>         <span class="dv">0</span>            <span class="dv">0</span>    
 <span class="dv">9</span> oz4   a1          <span class="dv">1994</span>   <span class="dv">2008</span>     <span class="dv">1</span> N                  <span class="dv">0</span>         <span class="dv">0</span>            <span class="dv">0</span>    
<span class="dv">10</span> hv5   a1          <span class="dv">1996</span>   <span class="dv">2007</span>     <span class="dv">2</span> N                  <span class="dv">0</span>         <span class="dv">0</span>            <span class="dv">0</span>    
<span class="co"># … with 204 more rows, and 2 more variables: threatnocontact_all &lt;dbl&gt;, agg_in &lt;dbl&gt;</span>
<span class="op">&gt;</span><span class="st"> </span></code></pre>
<p><br></p>
<div class="alert alert-note">
<blockquote>
<p><strong>Note</strong>: If you later decide to update the underlying raw .csv file, you will have to manually run the script in Step 2 again before re-building, loading, installing the package. The reason is that when packages are built, loaded, installed, etc., any contents in data-raw/ are ignored by default.</p>
</blockquote>
</div>
<p><br></p>
</div>
<div id="step-3-document-the-data-set" class="section level3">
<h3><span class="header-section-number">9.1.3</span> Step 3: Document the data set</h3>
<p>Because this will be a data set that is shared with others, it’s important to add reference documentation for it.</p>
<ul>
<li>Use <code>usethis::use_r()</code> with your data set name in quotes.</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">use_r</span>(<span class="st">&quot;aggression_behavior&quot;</span>)</code></pre>
<p>This generates a <code>.R</code> script that lives in the <code>R/ folder</code>.</p>
<p><br></p>
<center>
<img src="images/pkg/Rfiledataset.png" width="500" />
</center>
<p><br></p>
<p>Add information about the data set:</p>
<ul>
<li>In the .R file, add the name of the data set object in quotes.</li>
<li>Above the quoted object name, paste in specially-formatted comments (see the example below), called Roxygen comments.</li>
<li>Manually edit the information to reflect the columns in your data set [IS THIS REALLY NOT A BETTER WAY TO DO THIS?].</li>
</ul>
<p>(No “roxygen skeleton for data sets?”</p>
<ul>
<li><a href="https://github.com/r-lib/usethis/issues/51">link0</a></li>
<li><a href="https://github.com/r-lib/usethis/issues/274">link1</a></li>
<li><a href="https://stackoverflow.com/questions/51092509/whats-the-best-way-to-automatically-generate-roxygen2-documentation-for-a-data">link2</a>)</li>
</ul>
<p>This is what will become our documentation.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#&#39; Data of aggression behaviors observed in rhesus macaques</span>
<span class="co">#&#39;</span>
<span class="co">#&#39;</span>
<span class="co">#&#39;</span>
<span class="co">#&#39; @format A data frame with 214 rows representing individual &quot;focal&quot; rhesus and 11 variables:</span>
<span class="co">#&#39; \describe{</span>
<span class="co">#&#39;   \item{focal}{character denoting the subject ID of the rhesus}</span>
<span class="co">#&#39;   \item{compound}{a character indicating the social group the focal belongs to}</span>
<span class="co">#&#39;   \item{birthyr}{dbl denoting focal&#39;s year of birth}</span>
<span class="co">#&#39;   \item{obyear}{dbl denoting year of behavioral observation when data were collected on the focal}</span>
<span class="co">#&#39;   \item{rank}{dbl denoting high, middle, or low social rank of the focal (1, 2, or 3)}</span>
<span class="co">#&#39;   \item{infant?}{character denoting whether or not the focal had an infant less than 1 year old during time of observation}</span>
<span class="co">#&#39;   \item{attack_all}{average number of times an attack was intitiated by the }</span>
<span class="co">#&#39;   \item{chase_all}{a character string giving given name}</span>
<span class="co">#&#39;   \item{threatcontact_all}{a character string giving given name}</span>
<span class="co">#&#39;   \item{agg_in}{number of times aggression was initiated by the focal}</span>
<span class="co">#&#39; }</span>
<span class="co">#&#39; @source aggression_behavior.csv file</span>
<span class="st">&quot;aggression_behavior&quot;</span></code></pre>
<p><br></p>
<div class="alert alert-note">
<blockquote>
<p><strong>Note:</strong> To read more about Roxygen comments, check out <a href="images/pkg/https://r-pkgs.org/man.html">6.3 Roxygen Comments, R Packages</a>.</p>
</blockquote>
</div>
<ul>
<li>Use <code>devtools::document()</code> to make the roxygen comments “concrete”.</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#install.packages(c(&quot;devtools&quot;, &quot;roxygen2&quot;))</span>
<span class="kw">library</span>(roxygen2)
<span class="kw">library</span>(devtools)

<span class="kw">document</span>()</code></pre>
<p>This generates a <code>.Rd</code> file, that makes our documentation accessible to the package. [PHRASING?] This file lives inside a newly-generated <code>man/</code> folder.</p>
<p><br></p>
<center>
<img src="images/pkg/manfolder.png" width="500" />
</center>
<p><br></p>
<p>Now we can check that our documentation works:</p>
<ul>
<li>Call <code>? aggression_behavior</code>, substituting the name of your data set.</li>
<li>If everything looks good, then you’re done! If not, edit the roxygen-style comments in the .R file and <code>document()</code> again until you’re satisfied.</li>
</ul>
<p><br></p>
<center>
<img src="images/pkg/datadoc.png" width="500" />
</center>
<p><br></p>
</div>
<div id="step-4-build-and-install" class="section level3">
<h3><span class="header-section-number">9.1.4</span> Step 4: Build and install</h3>
<ul>
<li>As before, click on <code>Install and Restart</code> under the Build tab.</li>
</ul>
<p>Here’s a review of all the data package steps so far:</p>
<p><img src="images/pkg/datapackagemap.jpg" /></p>
<p><br></p>
<p>Congratulations, your package now includes a documented data set! It can be downloaded and installed as recommeded in <strong>Step 5: Deliver</strong> of <strong>Part 1</strong>.</p>
<p>If you’d like to create a worksheet-like component for your package, continue with <strong>Part 3</strong>. Otherwise, skip to <strong>Final Steps</strong> for some recommendations on a couple final (and optional) package components.</p>
<p><br></p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="part-1-creating-bare-bones-package-structure.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="part-3-including-worksheets-or-report-templates-with-r-markdown.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio4edu/rstudio4edu-book/edit/master/package_tutorial.Rmd",
"text": "Suggest an edit"
},
"history": {
"link": null,
"text": null
},
"download": ["https://github.com/rstudio4edu/rstudio4edu-book/raw/master/package_tutorial.Rmd"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
